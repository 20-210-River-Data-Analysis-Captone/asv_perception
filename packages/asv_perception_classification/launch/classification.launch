<?xml version="1.0" encoding="utf-8"?>
<launch>
    <arg name="pkg_name" value="asv_perception_classification"/>
    <group ns="left_camera">

        <!-- 
            Node to perform object classification
            Subscriptions: 
                - /input:   [sensor_msgs/CompressedImage] rgb camera image
            Publications:  
                - /output:  [asv_perception_common/ClassificationArray]
                            Array of detections.  Resulting ROIs scaled to input image size
                - /image:   [sensor_msgs/Image] annotated image (for visualization/debugging)
        -->
        <node name="classification" pkg="$(arg pkg_name)" type="darknet_node.py" required="true" output="screen">
            <remap from="~input" to="image_color/compressed" />
            <rosparam>
                darknet_config_file: "/data/model.cfg"
                darknet_weights_file: "/data/model.weights"
                darknet_meta_file: "/data/model.data"
                darknet_thresh: .5
                darknet_hier_thresh: .5
                darknet_nms: .45
            </rosparam>
        </node>

    </group>
</launch>